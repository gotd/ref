<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/gotd/td/internal/pool</title>
<link href="../../../../../css/light-v0.5.2.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.5.2.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>pool</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-github.com/gotd/td/internal/pool">github.com/gotd/td/internal/pool</a><i> (on <a href="https://pkg.go.dev/github.com/gotd/td/internal/pool" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/github.com/gotd/td/internal/pool.html">9 packages</a>, and imported by <a href="../../../../../dep/github.com/gotd/td/internal/pool.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">      <a href="../../../../../src/github.com/gotd/td/internal/pool/options.go.html">options.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">   <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#doc">#d</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html">pool.go</a></label><span id='file-1-fold-content-items' class="fold-items">
		Package pool contains Telegram connections pool.
</span>
	<span class="nodocs">      <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html">pool_conn.go</a></span>
	<span class="nodocs">      <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html">req_map.go</a></span>
	<span class="nodocs">      <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html">session.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 8, in which 5 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Conn" data-popularity="750">	<input type='checkbox' class="fold" id="Conn-fold-content"><label for="Conn-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..Conn.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-17">Conn</a> <b><i>(interface)</i></b></label><span id='Conn-fold-content-docs' class="fold-docs">
		Conn represents Telegram MTProto connection.

		<input type='checkbox' class="fold" id="Conn-fold-methods"><label for="Conn-fold-methods">Methods (<i>total 4, all are exported</i>)</label><span id='Conn-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( Conn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-19">Invoke</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, input <a href="../bin.html">bin</a>.<a href="../bin.html#name-Encoder">Encoder</a>, output <a href="../bin.html">bin</a>.<a href="../bin.html#name-Decoder">Decoder</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">( Conn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-20">Ping</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">( Conn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-21">Ready</a>() &lt;-chan struct{}</span></span><span>
			<span class="nodocs">( Conn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-18">Run</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-impledby"><label for="Conn-fold-impledby">Implemented By (<i>at least 2, in which 1 are exported</i>)</label><span id='Conn-fold-impledby-items' class="fold-items"><span>
			*github.com/gotd/td/telegram/internal/manager.<a href="../telegram/internal/manager.html#name-Conn">Conn</a></span>
			<input type='checkbox' class="showhide" id="Conn-showhide-impedBys"><i><label for="Conn-showhide-impedBys" class="show-inline">/* at least one unexported ... */</label><label for="Conn-showhide-impedBys" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			 <a href="#name-poolConn">poolConn</a></i></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-impls"><label for="Conn-fold-impls">Implements (<i>at least 2, in which 1 are exported</i>)</label><span id='Conn-fold-impls-items' class="fold-items"><span>
			 Conn : github.com/gotd/td/tg.<a href="../tg.html#name-Invoker">Invoker</a></span>
			<input type='checkbox' class="showhide" id="Conn-showhide-impls"><i><label for="Conn-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="Conn-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			 Conn : github.com/gotd/td/telegram.<a href="../telegram.html#name-clientConn">clientConn</a></i></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-results"><label for="Conn-fold-results">As Outputs Of (<i>at least 2, neither is exported</i>)</label><span id='Conn-fold-results-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Conn-showhide-inputofs"><i><label for="Conn-showhide-inputofs" class="show-inline">/* 2+ unexporteds ... */</label><label for="Conn-showhide-inputofs" class="hide-inline">/* 2+ unexporteds: */</label></i><span class="hidden"><i>
			func github.com/gotd/td/telegram.(*<a href="../telegram.html#name-Client">Client</a>).<a href="../../../../../src/github.com/gotd/td/telegram/conn_builder.go.html#line-74">createConn</a>(id <a href="../../../../builtin.html#name-int64">int64</a>, mode <a href="../telegram/internal/manager.html">manager</a>.<a href="../telegram/internal/manager.html#name-ConnMode">ConnMode</a>, setup <a href="../telegram/internal/manager.html">manager</a>.<a href="../telegram/internal/manager.html#name-SetupCallback">SetupCallback</a>) <b>Conn</b></i></span><span class="hidden"><i>
			func github.com/gotd/td/telegram.(*<a href="../telegram.html#name-Client">Client</a>).<a href="../../../../../src/github.com/gotd/td/telegram/conn_builder.go.html#line-70">createPrimaryConn</a>(setup <a href="../telegram/internal/manager.html">manager</a>.<a href="../telegram/internal/manager.html#name-SetupCallback">SetupCallback</a>) <b>Conn</b></i></span></span>

</span></div><div class="anchor type-res" id="name-DC" data-popularity="725">	<input type='checkbox' class="fold" id="DC-fold-content"><label for="DC-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..DC.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-17">DC</a> <i>(struct)</i></label><span id='DC-fold-content-docs' class="fold-docs">
		DC represents connection pool to one data center.

		<input type='checkbox' class="fold" id="DC-fold-fields"><label for="DC-fold-fields">Fields (<i>total 14, none are exported</i>)</label><span id='DC-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="DC-showhide-fields"><i><label for="DC-showhide-fields" class="show-inline">/* 14 unexporteds ... */</label><label for="DC-showhide-fields" class="hide-inline">/* 14 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-cancel"><label for="DC-fold-field-cancel"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-28">cancel</a> <i><a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-CancelFunc">CancelFunc</a></i></label><span id='DC-fold-field-cancel-docs' class="fold-docs">
				// immutable
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-49">closed</a> <i><a href="../../../../go.uber.org/atomic.html">atomic</a>.<a href="../../../../go.uber.org/atomic.html#name-Bool">Bool</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-ctx"><label for="DC-fold-field-ctx"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-27">ctx</a> <i><a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a></i></label><span id='DC-fold-field-ctx-docs' class="fold-docs">
				DC context. Will be canceled by Run on exit.
				// immutable
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-free"><label for="DC-fold-field-free"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-33">free</a> <i>[]*<a href="#name-poolConn">poolConn</a></i></label><span id='DC-fold-field-free-docs' class="fold-docs">
				Free connections.
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-38">freeReq</a> <i>*<a href="#name-reqMap">reqMap</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-grp"><label for="DC-fold-field-grp"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-31">grp</a> <i>*<a href="tdsync.html">tdsync</a>.<a href="tdsync.html#name-Supervisor">Supervisor</a></i></label><span id='DC-fold-field-grp-docs' class="fold-docs">
				Connections supervisor.
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-18">id</a> <i><a href="../../../../builtin.html#name-int">int</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-log"><label for="DC-fold-field-log"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-24">log</a> <i>*<a href="../../../../go.uber.org/zap.html">zap</a>.<a href="../../../../go.uber.org/zap.html#name-Logger">Logger</a></i></label><span id='DC-fold-field-log-docs' class="fold-docs">
				Wrappers for external world, like logs or PRNG.
				// immutable
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-max"><label for="DC-fold-field-max"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-43">max</a> <i><a href="../../../../builtin.html#name-int64">int64</a></i></label><span id='DC-fold-field-max-docs' class="fold-docs">
				Limit of connections.
				// immutable
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-mu"><label for="DC-fold-field-mu"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-40">mu</a> <i><a href="../../../../sync.html">sync</a>.<a href="../../../../sync.html#name-Mutex">Mutex</a></i></label><span id='DC-fold-field-mu-docs' class="fold-docs">
				DC mutex.
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-newConn"><label for="DC-fold-field-newConn"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-21">newConn</a> <i>func() <a href="#name-Conn">Conn</a></i></label><span id='DC-fold-field-newConn-docs' class="fold-docs">
				Connection constructor.
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-nextConn"><label for="DC-fold-field-nextConn"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-37">nextConn</a> <i><a href="../../../../go.uber.org/atomic.html">atomic</a>.<a href="../../../../go.uber.org/atomic.html#name-Int64">Int64</a></i></label><span id='DC-fold-field-nextConn-docs' class="fold-docs">
				Connection id monotonic counter.
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-stuck"><label for="DC-fold-field-stuck"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-47">stuck</a> <i>*<a href="tdsync.html">tdsync</a>.<a href="tdsync.html#name-ResetReady">ResetReady</a></i></label><span id='DC-fold-field-stuck-docs' class="fold-docs">
				Signal connection for cases when all connections are dead, but all requests waiting for
				free connection in 3rd acquire case.
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="DC-fold-field-total"><label for="DC-fold-field-total"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-35">total</a> <i><a href="../../../../builtin.html#name-int64">int64</a></i></label><span id='DC-fold-field-total-docs' class="fold-docs">
				Total connections.
</span></i></span></span>
		<input type='checkbox' class="fold" id="DC-fold-methods"><label for="DC-fold-methods">Methods (<i>total 7, in which 2 are exported</i>)</label><span id='DC-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="DC-fold-method-Close"><label for="DC-fold-method-Close">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-269">Close</a>() <a href="../../../../builtin.html#name-error">error</a></label><span id='DC-fold-method-Close-docs' class="fold-docs">
				Close waits while all ongoing requests will be done or until given context is done.
				Then, closes the DC.
</span></span><span>
			<input type='checkbox' class="fold" id="DC-fold-method-Invoke"><label for="DC-fold-method-Invoke">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-240">Invoke</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, input <a href="../bin.html">bin</a>.<a href="../bin.html#name-Encoder">Encoder</a>, output <a href="../bin.html">bin</a>.<a href="../bin.html#name-Decoder">Decoder</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='DC-fold-method-Invoke-docs' class="fold-docs">
				Invoke sends MTProto request using one of pool connection.
</span></span>
			<input type='checkbox' class="showhide" id="DC-showhide-methods"><i><label for="DC-showhide-methods" class="show-inline">/* 5 unexporteds ... */</label><label for="DC-showhide-methods" class="hide-inline">/* 5 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-155">acquire</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (r *<a href="#name-poolConn">poolConn</a>, err <a href="../../../../builtin.html#name-error">error</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-70">createConnection</a>(id <a href="../../../../builtin.html#name-int64">int64</a>) *<a href="#name-poolConn">poolConn</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-87">dead</a>(r *<a href="#name-poolConn">poolConn</a>, deadErr <a href="../../../../builtin.html#name-error">error</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-126">pop</a>() (r *<a href="#name-poolConn">poolConn</a>, ok <a href="../../../../builtin.html#name-bool">bool</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*DC) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-137">release</a>(r *<a href="#name-poolConn">poolConn</a>)</span></i></span></span>
		<input type='checkbox' class="fold" id="DC-fold-impls"><label for="DC-fold-impls">Implements (<i>at least 3, all are exported</i>)</label><span id='DC-fold-impls-items' class="fold-items"><span>
			*DC : github.com/gotd/td/telegram.<a href="../telegram.html#name-CloseInvoker">CloseInvoker</a></span><span>
			*DC : github.com/gotd/td/tg.<a href="../tg.html#name-Invoker">Invoker</a></span><span>
			*DC : io.<a href="../../../../io.html#name-Closer">Closer</a></span></span>
		<input type='checkbox' class="fold" id="DC-fold-results"><label for="DC-fold-results">As Outputs Of (<i>at least 3, in which 1 are exported</i>)</label><span id='DC-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewDC">NewDC</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, id <a href="../../../../builtin.html#name-int">int</a>, newConn func() <a href="#name-Conn">Conn</a>, opts <a href="#name-DCOptions">DCOptions</a>) *<b>DC</b></span>
			<input type='checkbox' class="showhide" id="DC-showhide-inputofs"><i><label for="DC-showhide-inputofs" class="show-inline">/* 2+ unexporteds ... */</label><label for="DC-showhide-inputofs" class="hide-inline">/* 2+ unexporteds: */</label></i><span class="hidden"><i>
			func github.com/gotd/td/telegram.(*<a href="../telegram.html#name-Client">Client</a>).<a href="../../../../../src/github.com/gotd/td/telegram/pool.go.html#line-24">createPool</a>(dc <a href="../../../../builtin.html#name-int">int</a>, max <a href="../../../../builtin.html#name-int64">int64</a>, creator func() <a href="#name-Conn">Conn</a>) (*<b>DC</b>, <a href="../../../../builtin.html#name-error">error</a>)</i></span><span class="hidden"><i>
			func github.com/gotd/td/telegram.(*<a href="../telegram.html#name-Client">Client</a>).<a href="../../../../../src/github.com/gotd/td/telegram/pool.go.html#line-52">dc</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, dcID <a href="../../../../builtin.html#name-int">int</a>, max <a href="../../../../builtin.html#name-int64">int64</a>, dialer <a href="mtproto.html">mtproto</a>.<a href="mtproto.html#name-Dialer">Dialer</a>) (*<b>DC</b>, <a href="../../../../builtin.html#name-error">error</a>)</i></span></span>

</span></div><div class="anchor type-res" id="name-DCOptions" data-popularity="85">	<input type='checkbox' class="fold" id="DCOptions-fold-content"><label for="DCOptions-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..DCOptions.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/options.go.html#line-6">DCOptions</a> <i>(struct)</i></label><span id='DCOptions-fold-content-docs' class="fold-docs">
		DCOptions is a Telegram data center connections pool options.

		<input type='checkbox' class="fold" id="DCOptions-fold-fields"><label for="DCOptions-fold-fields">Fields (<i>total 2, both are exported</i>)</label><span id='DCOptions-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="DCOptions-fold-field-Logger"><label for="DCOptions-fold-field-Logger"><a href="../../../../../src/github.com/gotd/td/internal/pool/options.go.html#line-8">Logger</a> <i>*<a href="../../../../go.uber.org/zap.html">zap</a>.<a href="../../../../go.uber.org/zap.html#name-Logger">Logger</a></i></label><span id='DCOptions-fold-field-Logger-docs' class="fold-docs">
				Logger is instance of zap.Logger. No logs by default.
</span></span><span>
			<input type='checkbox' class="fold" id="DCOptions-fold-field-MaxOpenConnections"><label for="DCOptions-fold-field-MaxOpenConnections"><a href="../../../../../src/github.com/gotd/td/internal/pool/options.go.html#line-11">MaxOpenConnections</a> <i><a href="../../../../builtin.html#name-int64">int64</a></i></label><span id='DCOptions-fold-field-MaxOpenConnections-docs' class="fold-docs">
				MTProto options for connections.
				Opened connection limit to the DC.
</span></span></span>
		<input type='checkbox' class="fold" id="DCOptions-fold-methods"><label for="DCOptions-fold-methods">Methods (<i>only one, which is unexported</i>)</label><span id='DCOptions-fold-methods-items' class="fold-items">
			<input type='checkbox' class="showhide" id="DCOptions-showhide-methods"><i><label for="DCOptions-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="DCOptions-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*DCOptions) <a href="../../../../../src/github.com/gotd/td/internal/pool/options.go.html#line-14">setDefaults</a>()</span></i></span></span>
		<input type='checkbox' class="fold" id="DCOptions-fold-params"><label for="DCOptions-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='DCOptions-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewDC">NewDC</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, id <a href="../../../../builtin.html#name-int">int</a>, newConn func() <a href="#name-Conn">Conn</a>, opts <b>DCOptions</b>) *<a href="#name-DC">DC</a></span></span>

</span></div><div class="anchor type-res" id="name-Session" data-popularity="220">	<input type='checkbox' class="fold" id="Session-fold-content"><label for="Session-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..Session.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-11">Session</a> <i>(struct)</i></label><span id='Session-fold-content-docs' class="fold-docs">
		Session represents DC session.

		<input type='checkbox' class="fold" id="Session-fold-fields"><label for="Session-fold-fields">Fields (<i>total 3, all are exported</i>)</label><span id='Session-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-13">AuthKey</a> <i><a href="crypto.html">crypto</a>.<a href="crypto.html#name-AuthKey">AuthKey</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-12">DC</a> <i><a href="../../../../builtin.html#name-int">int</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-14">Salt</a> <i><a href="../../../../builtin.html#name-int64">int64</a></i></span></span></span>
		<input type='checkbox' class="fold" id="Session-fold-results"><label for="Session-fold-results">As Outputs Of (<i>at least 2, both are exported</i>)</label><span id='Session-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-SyncSession">SyncSession</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-58">Load</a>() (data <b>Session</b>)</span><span>
			func (*<a href="#name-SyncSession">SyncSession</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-47">Options</a>(opts <a href="mtproto.html">mtproto</a>.<a href="mtproto.html#name-Options">Options</a>) (<a href="mtproto.html">mtproto</a>.<a href="mtproto.html#name-Options">Options</a>, <b>Session</b>)</span></span>
		<input type='checkbox' class="fold" id="Session-fold-params"><label for="Session-fold-params">As Inputs Of (<i>at least 2, both are exported</i>)</label><span id='Session-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewSyncSession">NewSyncSession</a>(data <b>Session</b>) *<a href="#name-SyncSession">SyncSession</a></span><span>
			func (*<a href="#name-SyncSession">SyncSession</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-31">Store</a>(data <b>Session</b>)</span></span>

</span></div><div class="anchor type-res" id="name-SyncSession" data-popularity="275">	<input type='checkbox' class="fold" id="SyncSession-fold-content"><label for="SyncSession-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..SyncSession.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-18">SyncSession</a> <i>(struct)</i></label><span id='SyncSession-fold-content-docs' class="fold-docs">
		SyncSession is synchronization helper for Session.

		<input type='checkbox' class="fold" id="SyncSession-fold-fields"><label for="SyncSession-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='SyncSession-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="SyncSession-showhide-fields"><i><label for="SyncSession-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="SyncSession-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-19">data</a> <i><a href="#name-Session">Session</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-20">mux</a> <i><a href="../../../../sync.html">sync</a>.<a href="../../../../sync.html#name-RWMutex">RWMutex</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="SyncSession-fold-methods"><label for="SyncSession-fold-methods">Methods (<i>total 4, all are exported</i>)</label><span id='SyncSession-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="SyncSession-fold-method-Load"><label for="SyncSession-fold-method-Load">(*SyncSession) <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-58">Load</a>() (data <a href="#name-Session">Session</a>)</label><span id='SyncSession-fold-method-Load-docs' class="fold-docs">
				Load gets session and returns it.
</span></span><span>
			<input type='checkbox' class="fold" id="SyncSession-fold-method-Migrate"><label for="SyncSession-fold-method-Migrate">(*SyncSession) <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-38">Migrate</a>(dc <a href="../../../../builtin.html#name-int">int</a>)</label><span id='SyncSession-fold-method-Migrate-docs' class="fold-docs">
				Migrate changes current DC and its addr, zeroes AuthKey and Salt.
</span></span><span>
			<input type='checkbox' class="fold" id="SyncSession-fold-method-Options"><label for="SyncSession-fold-method-Options">(*SyncSession) <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-47">Options</a>(opts <a href="mtproto.html">mtproto</a>.<a href="mtproto.html#name-Options">Options</a>) (<a href="mtproto.html">mtproto</a>.<a href="mtproto.html#name-Options">Options</a>, <a href="#name-Session">Session</a>)</label><span id='SyncSession-fold-method-Options-docs' class="fold-docs">
				Options fills Key and Salt field of given Options using stored session and returns it.
</span></span><span>
			<input type='checkbox' class="fold" id="SyncSession-fold-method-Store"><label for="SyncSession-fold-method-Store">(*SyncSession) <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-31">Store</a>(data <a href="#name-Session">Session</a>)</label><span id='SyncSession-fold-method-Store-docs' class="fold-docs">
				Store saves given Session.
</span></span></span>
		<input type='checkbox' class="fold" id="SyncSession-fold-results"><label for="SyncSession-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='SyncSession-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewSyncSession">NewSyncSession</a>(data <a href="#name-Session">Session</a>) *<b>SyncSession</b></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 3 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 3 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-poolConn" data-popularity="695">	<input type='checkbox' class="fold" id="poolConn-fold-content"><label for="poolConn-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..poolConn^870b5.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-24">poolConn</a> <i>(struct)</i></label><span id='poolConn-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="poolConn-fold-fields"><label for="poolConn-fold-fields">Fields (<i>total 5, in which 1 are exported</i>)</label><span id='poolConn-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-25">Conn</a> <i><a href="#name-Conn">Conn</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="poolConn-showhide-fields"><i><label for="poolConn-showhide-fields" class="show-inline">/* 4 unexporteds ... */</label><label for="poolConn-showhide-fields" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="poolConn-fold-field-dc"><label for="poolConn-fold-field-dc"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-27">dc</a> <i>*<a href="#name-DC">DC</a></i></label><span id='poolConn-fold-field-dc-docs' class="fold-docs">
				// immutable
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-29">dead</a> <i>*<a href="tdsync.html">tdsync</a>.<a href="tdsync.html#name-Ready">Ready</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-28">deleted</a> <i>*<a href="../../../../go.uber.org/atomic.html">atomic</a>.<a href="../../../../go.uber.org/atomic.html#name-Bool">Bool</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="poolConn-fold-field-id"><label for="poolConn-fold-field-id"><a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-26">id</a> <i><a href="../../../../builtin.html#name-int64">int64</a></i></label><span id='poolConn-fold-field-id-docs' class="fold-docs">
				// immutable
</span></i></span></span>
		<input type='checkbox' class="fold" id="poolConn-fold-methods"><label for="poolConn-fold-methods">Methods (<i>total 5, all are exported</i>)</label><span id='poolConn-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*poolConn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-32">Dead</a>() &lt;-chan struct{}</span></span><span>
			<span class="nodocs">( poolConn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-19">Invoke</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, input <a href="../bin.html">bin</a>.<a href="../bin.html#name-Encoder">Encoder</a>, output <a href="../bin.html">bin</a>.<a href="../bin.html#name-Decoder">Decoder</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">( poolConn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-20">Ping</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">( poolConn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-21">Ready</a>() &lt;-chan struct{}</span></span><span>
			<span class="nodocs">( poolConn) <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-18">Run</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="poolConn-fold-impls"><label for="poolConn-fold-impls">Implements (<i>at least 3, in which 2 are exported</i>)</label><span id='poolConn-fold-impls-items' class="fold-items"><span>
			 poolConn : <a href="#name-Conn">Conn</a></span><span>
			 poolConn : github.com/gotd/td/tg.<a href="../tg.html#name-Invoker">Invoker</a></span>
			<input type='checkbox' checked class="showhide" id="poolConn-showhide-impls"><i><label for="poolConn-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="poolConn-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			 poolConn : github.com/gotd/td/telegram.<a href="../telegram.html#name-clientConn">clientConn</a></i></span></span>
		<input type='checkbox' class="fold" id="poolConn-fold-results"><label for="poolConn-fold-results">As Outputs Of (<i>at least 3, none are exported</i>)</label><span id='poolConn-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="poolConn-showhide-inputofs"><i><label for="poolConn-showhide-inputofs" class="show-inline">/* 3+ unexporteds ... */</label><label for="poolConn-showhide-inputofs" class="hide-inline">/* 3+ unexporteds: */</label></i><span class="hidden"><i>
			func (*<a href="#name-DC">DC</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-155">acquire</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (r *<b>poolConn</b>, err <a href="../../../../builtin.html#name-error">error</a>)</i></span><span class="hidden"><i>
			func (*<a href="#name-DC">DC</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-70">createConnection</a>(id <a href="../../../../builtin.html#name-int64">int64</a>) *<b>poolConn</b></i></span><span class="hidden"><i>
			func (*<a href="#name-DC">DC</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-126">pop</a>() (r *<b>poolConn</b>, ok <a href="../../../../builtin.html#name-bool">bool</a>)</i></span></span>
		<input type='checkbox' class="fold" id="poolConn-fold-params"><label for="poolConn-fold-params">As Inputs Of (<i>at least 2, neither is exported</i>)</label><span id='poolConn-fold-params-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="poolConn-showhide-outputofs"><i><label for="poolConn-showhide-outputofs" class="show-inline">/* 2+ unexporteds ... */</label><label for="poolConn-showhide-outputofs" class="hide-inline">/* 2+ unexporteds: */</label></i><span class="hidden"><i>
			func (*<a href="#name-DC">DC</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-87">dead</a>(r *<b>poolConn</b>, deadErr <a href="../../../../builtin.html#name-error">error</a>)</i></span><span class="hidden"><i>
			func (*<a href="#name-DC">DC</a>).<a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-137">release</a>(r *<b>poolConn</b>)</i></span></span>

</span></div><div class="anchor type-res hidden" id="name-reqKey" data-popularity="0">	<span class="nodocs"> <a href="../../../../../use/github.com/gotd/td/internal/pool..reqKey^f746c.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-9">reqKey</a> <a href="../../../../builtin.html#name-int64">int64</a> <i>(basic type)</i></span></div><div class="anchor type-res hidden" id="name-reqMap" data-popularity="225">	<input type='checkbox' class="fold" id="reqMap-fold-content"><label for="reqMap-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..reqMap^631ce.html">type</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-11">reqMap</a> <i>(struct)</i></label><span id='reqMap-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="reqMap-fold-fields"><label for="reqMap-fold-fields">Fields (<i>total 3, none are exported</i>)</label><span id='reqMap-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="reqMap-showhide-fields"><i><label for="reqMap-showhide-fields" class="show-inline">/* 3 unexporteds ... */</label><label for="reqMap-showhide-fields" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-12">m</a> <i>map[<a href="#name-reqKey">reqKey</a>]chan *<a href="#name-poolConn">poolConn</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-13">mux</a> <i><a href="../../../../sync.html">sync</a>.<a href="../../../../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-16">nextRequest</a> <i><a href="../../../../go.uber.org/atomic.html">atomic</a>.<a href="../../../../go.uber.org/atomic.html#name-Int64">Int64</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="reqMap-fold-methods"><label for="reqMap-fold-methods">Methods (<i>total 3, none are exported</i>)</label><span id='reqMap-fold-methods-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="reqMap-showhide-methods"><i><label for="reqMap-showhide-methods" class="show-inline">/* 3 unexporteds ... */</label><label for="reqMap-showhide-methods" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*reqMap) <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-59">delete</a>(key <a href="#name-reqKey">reqKey</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*reqMap) <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-25">request</a>() (key <a href="#name-reqKey">reqKey</a>, ch chan *<a href="#name-poolConn">poolConn</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*reqMap) <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-35">transfer</a>(c *<a href="#name-poolConn">poolConn</a>) <a href="../../../../builtin.html#name-bool">bool</a></span></i></span></span>
		<input type='checkbox' class="fold" id="reqMap-fold-results"><label for="reqMap-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='reqMap-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="reqMap-showhide-inputofs"><i><label for="reqMap-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="reqMap-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-newReqMap">newReqMap</a>() *<b>reqMap</b></i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3, in which 2 are exported)</i></span></span>

<div class="anchor value-res" id="name-NewDC">	<input type='checkbox' class="fold" id="NewDC-fold-content"><label for="NewDC-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..NewDC.html">func</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-53">NewDC</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, id <a href="../../../../builtin.html#name-int">int</a>, newConn func() <a href="#name-Conn">Conn</a>, opts <a href="#name-DCOptions">DCOptions</a>) *<a href="#name-DC">DC</a></label><span id='NewDC-fold-content-docs' class="fold-docs">
		NewDC creates new uninitialized DC.

</span></div><div class="anchor value-res" id="name-NewSyncSession">	<input type='checkbox' class="fold" id="NewSyncSession-fold-content"><label for="NewSyncSession-fold-content"> <a href="../../../../../use/github.com/gotd/td/internal/pool..NewSyncSession.html">func</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/session.go.html#line-24">NewSyncSession</a>(data <a href="#name-Session">Session</a>) *<a href="#name-SyncSession">SyncSession</a></label><span id='NewSyncSession-fold-content-docs' class="fold-docs">
		NewSyncSession creates new SyncSession.

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-newReqMap"><i>	<span class="nodocs"> <a href="../../../../../use/github.com/gotd/td/internal/pool..newReqMap^1ff60.html">func</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/req_map.go.html#line-19">newReqMap</a>() *<a href="#name-reqMap">reqMap</a></span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 2, in which 1 are exported)</i></span></span>

<div class="anchor value-res" id="name-ErrConnDead">	<input type='checkbox' class="fold" id="ErrConnDead-fold-content"><label for="ErrConnDead-fold-content">  <a href="../../../../../use/github.com/gotd/td/internal/pool..ErrConnDead.html">var</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool_conn.go.html#line-14">ErrConnDead</a> <a href="../../../../builtin.html#name-error">error</a></label><span id='ErrConnDead-fold-content-docs' class="fold-docs">
		ErrConnDead means that connection is closed and can't be used anymore.

</span></div>	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-errDCIsClosed"><i>	<span class="nodocs">  <a href="../../../../../use/github.com/gotd/td/internal/pool..errDCIsClosed^0d106.html">var</a> <a href="../../../../../src/github.com/gotd/td/internal/pool/pool.go.html#line-153">errDCIsClosed</a> <a href="../../../../builtin.html#name-error">error</a></span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.5.2</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>